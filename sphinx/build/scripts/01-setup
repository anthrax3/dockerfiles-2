#! /bin/sh

set -e
set -x
export DEBIAN_FRONTEND=noninteractive

##
## install sphinx
##
sphinx_packages="python-sphinx"
sphinx_packages="$sphinx_packages python-sphinxcontrib.blockdiag python-sphinxcontrib.actdiag"
sphinx_packages="$sphinx_packages python-sphinxcontrib.seqdiag python-sphinxcontrib.nwdiag"
sphinx_packages="$sphinx_packages python-pip python-pil"
sphinx_packages="$sphinx_packages make"
apt-get install --no-install-recommends -y ${sphinx_packages}

##
## install font
##
apt-get install --no-install-recommends -y fonts-ipafont-gothic fonts-ipafont-mincho
mkdir /usr/share/fonts/ipa-gothic
ln -s /usr/share/fonts/opentype/ipafont-gothic/ipag.ttf /usr/share/fonts/ipa-gothic/ipag.ttf

##
## install sphinx theme
##
pip install sphinxjp.themecore sphinxjp.themes.sphinxjp sphinx_rtd_theme

